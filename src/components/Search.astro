---
// Inspired by -> https://github.com/chrismwilliams/astro-theme-cactus/blob/main/src/components/Search.astro

import '@pagefind/default-ui/css/ui.css'
import SearchIcon from '@/components/icons/SearchIcon'
---

<div class='relative mb-8'>
	<div class='absolute inset-0 bg-cyber-cyan/5 blur-2xl -z-10'></div>
	<div
		id='search'
		class='border-2 border-cyber-cyan/30 rounded-lg p-4 hover:border-cyber-cyan transition-all duration-300 bg-dark-void/50 backdrop-blur-sm'
	>
	</div>
</div>

<script>
	// @ts-ignore
	import { PagefindUI } from '@pagefind/default-ui'
	window.addEventListener('DOMContentLoaded', () => {
		new PagefindUI({
			element: '#search',
			showSubResults: false,
			showImages: false,
			excerptLength: 15,
			resetStyles: false
		})

		const searchInput = document.querySelector('.pagefind-ui__search-input')
		searchInput?.setAttribute('placeholder', 'SEARCH TRANSMISSIONS...')
		searchInput?.classList.add('font-rajdhani', 'text-cyber-cyan', 'placeholder:text-cyber-cyan/50')
	})
</script>

<style is:global>
	.pagefind-ui__search-input {
		background: rgba(10, 10, 15, 0.8) !important;
		border: 1px solid rgba(0, 243, 255, 0.3) !important;
		color: #00f3ff !important;
		font-family: 'Rajdhani', sans-serif !important;
	}

	.pagefind-ui__search-input:focus {
		border-color: #00f3ff !important;
		box-shadow: 0 0 10px rgba(0, 243, 255, 0.3) !important;
	}

	.pagefind-ui__result {
		border: 1px solid rgba(0, 243, 255, 0.2) !important;
		background: rgba(21, 21, 31, 0.6) !important;
	}

	.pagefind-ui__result:hover {
		border-color: #ff0080 !important;
	}

	.pagefind-ui__result-title {
		color: #00f3ff !important;
		font-family: 'Orbitron', sans-serif !important;
	}

	.pagefind-ui__result-excerpt {
		color: #a0a0a0 !important;
	}
</style>
